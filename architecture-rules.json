{
  "allowedDependencies": {
    "entity": [],
    "repository": ["entity"],
    "usecase": ["entity", "repository", "service"],
    "service": ["entity", "repository"],
    "delivery/http": ["usecase", "entity", "middleware"],
    "delivery/grpc": ["usecase", "entity"],
    "infrastructure/persistence": ["entity", "repository"],
    "infrastructure/cache": ["entity"],
    "infrastructure/messaging": ["entity"],
    "platform/*": ["config"],
    "plugins/*": ["platform/*"],
    
    "internal/example/entity": [],
    "internal/example/repository": ["internal/example/entity"],
    "internal/example/usecase": ["internal/example/entity", "internal/example/repository", "internal/example/service"],
    "internal/example/service": ["internal/example/entity", "internal/example/repository"],
    "internal/example/delivery/http": ["internal/example/usecase", "internal/example/entity", "internal/example/delivery/http/middleware"],
    "internal/example/delivery/grpc": ["internal/example/usecase", "internal/example/entity"],
    "internal/example/infrastructure/persistence": ["internal/example/entity", "internal/example/repository"],
    "internal/example/infrastructure/cache": ["internal/example/entity"],
    "internal/example/infrastructure/messaging": ["internal/example/entity"],
    
    "internal/platform/*": ["internal/config", "pkg/*"],
    "internal/plugins/*": ["internal/platform/*", "pkg/*"]
  },
  "exceptions": [
    "_test.go",
    "mock_",
    "testdata",
    "internal/platform/ent/schema",
    "internal/platform/ent/migrate"
  ],
  "patternRules": [
    {
      "pattern": "internal/*/entity",
      "allowedToImport": "pkg/*",
      "explanation": "Entities can import utility packages"
    },
    {
      "pattern": "internal/*/repository",
      "allowedToImport": "internal/platform/ent",
      "explanation": "Repositories can import the Ent ORM"
    },
    {
      "pattern": "internal/*/delivery/*",
      "allowedToImport": "internal/platform/server",
      "explanation": "Delivery layers can import server components"
    },
    {
      "pattern": "internal/*/infrastructure/*",
      "allowedToImport": "internal/platform/*",
      "explanation": "Infrastructure can import platform components"
    },
    {
      "pattern": "internal/*/usecase",
      "allowedToImport": "pkg/validation",
      "explanation": "Use cases can import validation utilities"
    }
  ],
  "domainRules": {
    "allowCrossDomainDependencies": false,
    "allowedCrossDomainImports": [
      {
        "source": "internal/example",
        "target": "internal/platform",
        "explanation": "Example domain can import platform components"
      }
    ],
    "allowedInternalStructure": {
      "entity": [],
      "repository": ["entity"],
      "usecase": ["entity", "repository", "service"],
      "service": ["entity", "repository"],
      "delivery/http": ["usecase", "entity", "middleware"],
      "delivery/grpc": ["usecase", "entity"],
      "infrastructure/persistence": ["entity", "repository"],
      "infrastructure/cache": ["entity"],
      "infrastructure/messaging": ["entity"]
    }
  }
}
